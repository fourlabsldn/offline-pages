<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Offline demo</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.5/css/bootstrap.min.css">

  <link rel="stylesheet" href="../styles/styles.css">
</head>
<body>
  <div class="container">
    <nav class="navbar navbar-dark bg-inverse">
        <ul class="nav navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="./index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./contacts.html">Contacts</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./projects.html">Projects</a>
          </li>
        </ul>
    </nav>
    <br>

    <div class="jumbotron">
      <h1>Projects</h1>
      <p class="lead">Offline Website - Content should be displayed even if there is no connection</p>
      <p><a class="btn btn-lg btn-success" href="/database" role="button">Big button</a></p>
    </div>

    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date</th>
          <th>Project Managers</th>
          <th>Logo</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>

    <script>
      fetch('../js/projects.json')
      .then(r => r.json())
      .then(r => {
        const tableRows = r.projects.map(p => `
          <tr>
            <th scope="row">${p.name}</th>
            <td>${p.date}</td>
            <td>${p.manager}</td>
            <td><img src="${p.logo}" alt="" style="max-width: 50px"></td>
          </tr>
        `);

        document.querySelector('tbody').innerHTML = tableRows.join('');
      });
    </script>

  </div>
</body>
</html>
